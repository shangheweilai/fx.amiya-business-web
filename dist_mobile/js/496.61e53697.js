(self["webpackChunkh5_amiya"]=self["webpackChunkh5_amiya"]||[]).push([[496],{9496:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});n(7658);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content"},[t("div",{staticClass:"item",on:{click:e.recordApplicationclick}},[t("i",{staticClass:"iconfont icon-weiwanchengpaidan icon_dispatch"}),t("span",{staticClass:"title"},[e._v("录单申请")])]),t("div",{staticClass:"item",on:{click:function(t){return e.$router.push("/mySubmit")}}},[t("i",{staticClass:"iconfont icon-weiwanchengpaidan icon_dispatch"}),t("span",{staticClass:"title"},[e._v("我提交的")])]),t("div",{staticClass:"item",on:{click:function(t){return e.$router.push("/myReceive")}}},[t("i",{staticClass:"iconfont icon-wanchengpaidan icon_dispatch"}),t("span",{staticClass:"title"},[e._v("我收到的")])]),t("van-popup",{staticClass:"dispatch_content",attrs:{position:"bottom",round:"","close-on-click-overlay":!1},model:{value:e.recordApplication,callback:function(t){e.recordApplication=t},expression:"recordApplication"}},[t("van-field",{staticClass:"customer_content",attrs:{label:"接收人",disabled:"",placeholder:"请选择接收人"},model:{value:e.form.acceptByName,callback:function(t){e.$set(e.form,"acceptByName",t)},expression:"form.acceptByName"}}),t("van-field",{staticClass:"customer_content",attrs:{label:"手机号",placeholder:"请输入手机号",type:"number",number:"",disabled:""},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),t("van-field",{staticClass:"customer_content",attrs:{label:"医院",disabled:"",placeholder:"请选择医院"},on:{click:function(t){e.hospitalIdModel=!0}},model:{value:e.form.hospitalName,callback:function(t){e.$set(e.form,"hospitalName",t)},expression:"form.hospitalName"}}),t("van-field",{staticClass:"customer_content",attrs:{label:"申请理由",placeholder:"请输入申请理由",type:"textarea",rows:4},on:{input:e.remarkInput},model:{value:e.form.sendRemark,callback:function(t){e.$set(e.form,"sendRemark",t)},expression:"form.sendRemark"}}),t("div",{staticClass:"bottom"},[t("van-button",{staticClass:"button",attrs:{round:"",block:"",type:"default"},on:{click:e.cancel}},[e._v("取消")]),t("van-button",{staticClass:"button",attrs:{round:"",block:"",type:"info"},on:{click:e.submite}},[e._v("确认")])],1)],1),t("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.hospitalIdModel,callback:function(t){e.hospitalIdModel=t},expression:"hospitalIdModel"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:e.searchColumns},on:{cancel:function(t){e.hospitalIdModel=!1},confirm:e.hospitalIdConfirm},scopedSlots:e._u([{key:"title",fn:function(){return[t("van-field",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入医院进行搜索",clearable:""},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})]},proxy:!0}])})],1),t("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.sendByModel,callback:function(t){e.sendByModel=t},expression:"sendByModel"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:e.searchColumns2},on:{cancel:function(t){e.sendByModel=!1},confirm:e.sendByConfirm}})],1)],1)},a=[],r=n(7535),s={data(){return{recordApplication:!1,form:{id:"",acceptBy:220,acceptByName:"张凌玥",phone:"",hospitalId:null,hospitalName:"",sendRemark:""},searchKey:"",searchColumns:[],searchKey2:"",searchColumns2:[],sendByName:[],sendByModel:!1,hospitalName:[],hospitalIdModel:!1}},watch:{searchKey:function(){let e=String(this.searchKey);e=e.replace(/\s*/g,"");const t=new RegExp(e,"ig");this.searchColumns=this.hospitalName.filter((e=>null!=e.match(t)))},searchKey2:function(){let e=String(this.searchKey2);e=e.replace(/\s*/g,"");const t=new RegExp(e,"ig");this.searchColumns2=this.sendByName.filter((e=>null!=e.match(t)))}},methods:{recordApplicationclick(){this.$route.query.phone?this.recordApplication=!0:"未审核"!=this.$route.query.checkStateText?"审核通过"!=this.$route.query.checkStateText?this.$toast({message:"请在录单页面发起录单申请！",duration:3e3,position:"center"}):this.$toast({message:"该订单已在录单申请列表进行申请，请在【系统端】录单申请列表进行录单！",duration:4e3,position:"center"}):this.$toast({message:"该订单已在录单申请列表进行申请，请等待审核通过后录单！",duration:4e3,position:"center"})},cancel(){this.recordApplication=!1,this.form.hospitalId=null,this.form.hospitalName="",this.form.sendRemark=""},submite(){const{acceptBy:e,hospitalId:t,phone:n,sendRemark:o}=this.form;if(!e)return void this.$toast("请选择接收人");if(!n)return void this.$toast("请输入手机号");if(!t)return void this.$toast("请选择医院");const a={hospitalId:Number(t),acceptBy:Number(e),phone:n,sendRemark:o};r.Oc(a).then((e=>{0===e.code?(this.$toast("添加成功"),this.cancel()):this.$toast(e.msg)}))},remarkInput(e){this.form.sendRemark=e},getHospitalInfo(){r.a3().then((e=>{this.hospitalInfo=e.data.hospitalInfo;let t=[];this.hospitalInfo.map((e=>{t.push(e.name)})),this.hospitalName=t,this.searchColumns=t}))},getCustomerServiceNameList(){r.nj().then((e=>{this.employee=e.data.employee;let t=[];this.employee.map((e=>{t.push(e.name)})),this.sendByName=t,this.searchColumns2=t}))},hospitalIdConfirm(e){this.form.hospitalName=e,this.hospitalIdModel=!1,this.searchKey="",this.hospitalInfo.map((t=>{t.name==e&&(this.form.hospitalId=t.id)}))},sendByConfirm(e){this.form.sendByName=e,this.sendByModel=!1,this.searchKey2="",this.employee.map((t=>{t.name==e&&(this.form.sendBy=t.id)}))}},created(){this.$route.query.phone&&(this.form.phone=this.$route.query.phone),this.getHospitalInfo(),this.getCustomerServiceNameList()}},i=s,c=(n(2155),n(1001)),u=(0,c.Z)(i,o,a,!1,null,"0a60fca0",null),l=u.exports},8242:function(e,t,n){"use strict";n.r(t);var o=n(8081),a=n.n(o),r=n(3645),s=n.n(r),i=s()(a());i.push([e.id,".dispatch_content[data-v-0a60fca0]{height:50%;color:#5492fe}.content[data-v-0a60fca0]{width:100%;height:100vh;background:linear-gradient(#8ab4fe,#fff);padding-top:30px;box-sizing:border-box}.content .item[data-v-0a60fca0]{width:80%;height:45px;line-height:45px;background:#fff;border-radius:30px;margin:0 auto 30px;display:flex;align-items:center;color:#5492fe}.content .item .icon_dispatch[data-v-0a60fca0]{font-size:32px;margin-left:-12px}.content .item .title[data-v-0a60fca0]{font-size:16px;margin-left:-34px}.content .bottom[data-v-0a60fca0]{display:flex;margin-top:20px}.content .bottom .button[data-v-0a60fca0]{width:40%;height:42px;margin:0 auto}",""]),t["default"]=i},7535:function(e,t,n){"use strict";n.d(t,{FZ:function(){return u},GE:function(){return T},Gl:function(){return j},IQ:function(){return k},Ir:function(){return I},JP:function(){return O},K2:function(){return B},MA:function(){return K},MB:function(){return h},Oc:function(){return E},PR:function(){return l},Pr:function(){return x},Qb:function(){return q},Rf:function(){return c},T2:function(){return W},_v:function(){return i},a3:function(){return p},a5:function(){return $},a9:function(){return C},bo:function(){return G},di:function(){return s},gD:function(){return R},hu:function(){return L},jl:function(){return F},ju:function(){return y},k:function(){return v},ks:function(){return N},lW:function(){return _},nb:function(){return S},nj:function(){return r},o:function(){return f},oG:function(){return P},pK:function(){return D},pe:function(){return H},q1:function(){return M},qJ:function(){return A},rY:function(){return m},v1:function(){return Z},w5:function(){return b},wH:function(){return w},ws:function(){return a},yi:function(){return d},zo:function(){return g}});var o=n(6809);const a=e=>(0,o.Z)({url:"/fxopenoss/aliyunoss/uploadone",method:"post",data:e}),r=()=>(0,o.Z)({url:"/businessWechat/AmiyaEmployee/customerServiceNameList",method:"get"}),s=()=>(0,o.Z)({url:"/businessWechat/ContentPlatForm/validList",method:"get"}),i=e=>(0,o.Z)({url:"/businessWechat/LiveAnchor/validByContentPlatFormId",method:"get",params:e}),c=e=>(0,o.Z)({url:"/businessWechat/LiveAnchorWechatInfo/validListByLiveAnchorId",method:"get",params:e}),u=()=>(0,o.Z)({url:"/businessWechat/AmiyaHospitalDepartment/getAmiyaHospitalDepartmentList",method:"get"}),l=e=>(0,o.Z)({url:"/businessWechat/AmiyaGoodsDemand/getAmiyaGoodsDemandList",method:"get",params:e}),d=()=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder/contentPlateFormOrderTypeList",method:"get"}),m=()=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder/contentPlateFormOrderSourceList",method:"get"}),h=()=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder/getOrderConsultationTypeList",method:"get"}),p=()=>(0,o.Z)({url:"/businessWechat/HospitalInfo/nameList",method:"get"}),f=e=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder/contentPlateFormAddOrder",method:"post",data:e}),b=e=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder/contentPlateFormOrderLlistWithPage",method:"get",params:e}),y=e=>(0,o.Z)({url:`/businessWechat/ContentPlateFormOrder/byId/${e}`,method:"get"}),g=e=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder/unContentPlatFormSendOrderList",method:"get",params:e}),v=e=>(0,o.Z)({url:"/businessWechat/ContentPlateFormSendOrder/list",method:"get",params:e}),C=e=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder",method:"post",data:e}),P=e=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder/finishContentPlateFormOrderByEmployee",method:"put",data:e}),W=()=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder/contentPlateFormOrderToHospitalTypeList",method:"get"}),k=()=>(0,o.Z)({url:"/businessWechat/ContentPlatFormOrderDealInfo/contentPlateFormOrderDealPerformanceType",method:"get"}),Z=e=>(0,o.Z)({url:`/businessWechat/ContentPlateFormOrder/byId/${e}`,method:"get"}),B=e=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder/updateContentPlateFormOrder",method:"put",data:e}),A=e=>(0,o.Z)({url:"/businessWechat/AmiyaBusinessPerformance/TotalPerformance",method:"get",params:e}),I=e=>(0,o.Z)({url:"/businessWechat/AmiyaBusinessPerformance/PerformanceByLiveAnchorName",method:"get",params:e}),O=e=>(0,o.Z)({url:"/businessWechat/AmiyaBusinessPerformance/hospitalPerformance",method:"get",params:e}),F=e=>(0,o.Z)({url:"/businessWechat/AmiyaBusinessPerformance/customerServicePerformance",method:"get",params:e}),x=e=>(0,o.Z)({url:"/businessWechat/AmiyaBusinessPerformance/customerServiceDetailPerformanceById",method:"get",params:e}),N=e=>(0,o.Z)({url:"/businessWechat/LiveAnchorBaseInfo/valid",method:"get",params:e}),$=e=>(0,o.Z)({url:`/businessWechat/LiveAnchorBaseInfo/byId/${e}`,method:"get"}),S=e=>(0,o.Z)({url:"/businessWechat/ContentPlatFormOrderAddWork/listWithPage",method:"get",params:e}),_=e=>(0,o.Z)({url:"/businessWechat/ContentPlatFormOrderAddWork/update",method:"put",data:e}),w=e=>(0,o.Z)({url:`/businessWechat/ContentPlatFormOrderAddWork/${e}`,method:"delete"}),L=e=>(0,o.Z)({url:"/businessWechat/ContentPlatFormOrderAddWork/check",method:"put",data:e}),M=e=>(0,o.Z)({url:"/businessWechat/BindCustomerService/getCustomerServiceNameByPhone",method:"get",params:e}),K=e=>(0,o.Z)({url:`/businessWechat/ContentPlatFormOrderAddWork/byPhone/${e}`,method:"get"}),R=e=>(0,o.Z)({url:"/businessWechat/ContentPlateFormOrder/bindCustomerServieOrders",method:"get",params:e}),T=e=>(0,o.Z)({url:"/businessWechat/BindCustomerService/getPublicPoolPhone",method:"get",params:e}),D=e=>(0,o.Z)({url:"/businessWechat/BindCustomerService/updatePublicPoolPhone",method:"put",data:e}),q=e=>(0,o.Z)({url:"/businessWechat/BindCustomerService/ContentPlatFormOrderListBindCustomerService",method:"put",data:e}),E=e=>(0,o.Z)({url:"/businessWechat/ContentPlatFormOrderAddWork/add",method:"post",data:e}),H=e=>(0,o.Z)({url:"/businessWechat/ContentPlatFormOrderAddWork/updateAcceptBy",method:"put",data:e}),G=e=>(0,o.Z)({url:"/businessWechat/AmiyaEmployee/getEmployeeByPositionId",method:"get",params:e}),j=e=>(0,o.Z)({url:"/businessWechat/CustomerAppointmentSchedule/listWithPage",method:"get",params:e})},2155:function(e,t,n){var o=n(8242);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(4402).Z;a("619cd672",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=496.61e53697.js.map
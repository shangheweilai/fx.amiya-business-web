{"version":3,"file":"js/238.040cc9bf.js","mappings":"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","sources":["webpack://h5_amiya/./src/views/orderList/orderList.vue","webpack://h5_amiya/src/views/orderList/orderList.vue","webpack://h5_amiya/./src/views/orderList/orderList.vue?e77d","webpack://h5_amiya/./src/views/orderList/orderList.vue?5fee","webpack://h5_amiya/./src/views/orderList/orderList.vue?5521","webpack://h5_amiya/./src/views/orderList/orderList.vue?5529"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content\",style:({height:_vm.list.length < 4 ? '100vh' : 'auto'})},[_c('div',{staticClass:\"search_content\"},[_c('van-field',{staticClass:\"search\",attrs:{\"placeholder\":\"请输入关键字\"},on:{\"input\":_vm.blurInput},model:{value:(_vm.query.keyword),callback:function ($$v) {_vm.$set(_vm.query, \"keyword\", $$v)},expression:\"query.keyword\"}}),_c('div',{staticClass:\"calendar_con\",on:{\"click\":function($event){_vm.calendarModel = true}}},[_c('i',{staticClass:\"iconfont icon-rili search_icon\"}),_c('div',[_c('div',{staticClass:\"calendar_name\"},[_vm._v(_vm._s(_vm.query.startDate))]),_c('div',{staticClass:\"calendar_name\"},[_vm._v(_vm._s(_vm.query.endDate))])])]),_c('i',{staticClass:\"iconfont icon-icon-sousu search_icon\",on:{\"click\":_vm.handleSearch}})],1),_c('van-calendar',{attrs:{\"color\":\"#1989fa\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate,\"type\":\"range\"},on:{\"confirm\":_vm.onConfirm},model:{value:(_vm.calendarModel),callback:function ($$v) {_vm.calendarModel=$$v},expression:\"calendarModel\"}}),_c('div',{staticClass:\"list_wrap\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"error-text\":\"请求失败，点击重新加载\",\"error\":_vm.error},on:{\"load\":_vm.onLoad,\"update:error\":function($event){_vm.error=$event}},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('div',_vm._l((_vm.list),function(item,index){return _c('van-swipe-cell',{key:index,scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-button',{attrs:{\"square\":\"\",\"color\":\"linear-gradient(to bottom, #8ab4fe,#5492FE)\",\"text\":\"详情\"},on:{\"click\":function($event){return _vm.detailClick(item.id)}}}),_c('van-button',{attrs:{\"square\":\"\",\"color\":\"linear-gradient(to bottom, #8ab4fe,#5492FE)\",\"text\":\"编辑\"},on:{\"click\":function($event){return _vm.editClick(item.id)}}})]},proxy:true}],null,true)},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"item_con\"}),_c('div',{staticClass:\"item_top\"},[_c('div',{staticStyle:{\"color\":\"#000\"}},[_vm._v(\"订单：\"),_c('span',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(item.id),expression:\"item.id\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:(_vm.onCopySuccess),expression:\"onCopySuccess\",arg:\"success\"}]},[_vm._v(_vm._s(item.id))])]),_c('div',{staticClass:\"item_type\"},[_vm._v(\"状态：\"+_vm._s(item.orderStatusText))])]),_c('div',{staticClass:\"item_center\"},[_c('van-image',{staticStyle:{\"margin\":\"0 8px 0 0\"},attrs:{\"width\":\"50\",\"height\":\"50\",\"src\":item.thumbPictureUrl}}),_c('div',{staticClass:\"item_right\"},[_c('div',{staticClass:\"right_content\"},[_c('div',[_vm._v(\"归属客服：\"+_vm._s(item.belongEmpName))]),_c('div',[_vm._v(\"平台：\"+_vm._s(item.contentPlatformName))])]),_c('div',{staticClass:\"right_content\"},[_c('div',{staticClass:\"nickname_con\"},[_vm._v(\"客户：\"),_c('div',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.customerName))])]),_c('div',[_vm._v(_vm._s(item.city))])]),_c('div',[_vm._v(\"手机：\"+_vm._s(item.phone))])])],1),_c('div',{staticClass:\"item_bottom\"},[_c('div',{staticClass:\"nickname_con\"},[_c('div',{staticClass:\"nick_title\"},[_vm._v(\"主播IP：\")]),_vm._v(\" \"),_c('div',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.liveAnchorName))])]),_c('div',{staticClass:\"nickname_con\"},[_c('div',{staticClass:\"nick_title2\"},[_vm._v(\"主播微信号：\")]),_vm._v(\" \"),_c('div',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.liveAnchorWeChatNo))])])])])])}),1)])],1),_c('detail')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"content\" :style=\"{height:list.length < 4 ? '100vh' : 'auto'}\">\r\n    <div class=\"search_content\">\r\n        <van-field\r\n            v-model=\"query.keyword\"\r\n            placeholder=\"请输入关键字\"\r\n            class=\"search\"\r\n            @input=\"blurInput\"\r\n        />\r\n\r\n        <div class=\"calendar_con\" @click=\"calendarModel = true\">\r\n            <i class=\"iconfont icon-rili search_icon\"></i>\r\n            <div>\r\n            <div class=\"calendar_name\">{{query.startDate}}</div>\r\n            <div class=\"calendar_name\">{{query.endDate}}</div>\r\n            </div>\r\n        </div>\r\n        <i class=\"iconfont icon-icon-sousu search_icon\" @click=\"handleSearch\"></i>\r\n    </div>\r\n    <van-calendar\r\n        v-model=\"calendarModel\"\r\n        @confirm=\"onConfirm\"\r\n        color=\"#1989fa\"\r\n        :min-date=\"minDate\"\r\n        :max-date=\"maxDate\"\r\n        type=\"range\"\r\n      />\r\n    <div class=\"list_wrap\">\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        error-text=\"请求失败，点击重新加载\"\r\n        @load=\"onLoad\"\r\n        :error.sync=\"error\"\r\n      >\r\n        <div>\r\n        <van-swipe-cell v-for=\"(item, index) in list\" :key=\"index\">\r\n          \r\n            <div class=\"item\">\r\n              <div class=\"item_con\"></div>\r\n              <div class=\"item_top\">\r\n                <!-- <span class=\"copy\" v-clipboard:copy=\"item.id\" v-clipboard:success=\"onCopySuccess\">复制</span> -->\r\n                <div style=\"color:#000\">订单：<span v-clipboard:copy=\"item.id\" v-clipboard:success=\"onCopySuccess\">{{item.id}}</span></div>\r\n                <div class=\"item_type\">状态：{{item.orderStatusText}}</div>\r\n              </div>\r\n              <div class=\"item_center\">\r\n                <van-image\r\n                  width=\"50\"\r\n                  height=\"50\"\r\n                  :src=\"item.thumbPictureUrl\"\r\n                  style=\"margin:0 8px 0 0\"\r\n                />\r\n                <div class=\"item_right\">\r\n                  <div class=\"right_content\">\r\n                    <div>归属客服：{{item.belongEmpName}}</div>\r\n                    <div>平台：{{item.contentPlatformName\t}}</div>\r\n                  </div>\r\n                  <div class=\"right_content\">\r\n                    <div class=\"nickname_con\">客户：<div  class=\"nickname\">{{item.customerName}}</div></div>\r\n                    <div>{{item.city}}</div>\r\n                  </div>\r\n                  <div>手机：{{item.phone}}</div>\r\n                </div>\r\n              </div>\r\n              <!-- <div class=\"item_bottom\">\r\n                <div class=\"nickname_con\">主播IP：<div class=\"nickname\">{{item.liveAnchorName}}</div></div>\r\n                <div>主播微信号：{{item.liveAnchorWeChatNo}}</div>\r\n              </div> -->\r\n              <div class=\"item_bottom\">\r\n              <div class=\"nickname_con\"><div class=\"nick_title\">主播IP：</div> <div class=\"nickname\">{{item.liveAnchorName}}</div></div>\r\n              <div class=\"nickname_con\"><div class=\"nick_title2\">主播微信号：</div> <div class=\"nickname\">{{item.liveAnchorWeChatNo}}</div></div>\r\n            </div>\r\n            </div>\r\n            \r\n          \r\n          <template #right>\r\n            <van-button square  color=\"linear-gradient(to bottom, #8ab4fe,#5492FE)\" text=\"详情\" @click=\"detailClick(item.id)\"/>\r\n            <van-button square color=\"linear-gradient(to bottom, #8ab4fe,#5492FE)\" text=\"编辑\" @click=\"editClick(item.id)\"/>\r\n          </template>\r\n        </van-swipe-cell>\r\n        </div>\r\n      </van-list>\r\n    </div>\r\n\r\n    <!-- 订单详情 -->\r\n    <detail />\r\n    <!-- <van-loading size=\"24px\" vertical text-color=\"#fff\" color=\"#fff\" style=\"height:100vh;padding:140px 0 0 0px;background:#C7DBFF;\" v-if=\"list == [] || list.length==0\">加载中...</van-loading> -->\r\n  </div>\r\n</template>\r\n<script>\r\nimport * as api from \"@/api/order.js\";\r\nimport detail from \"../detail/detail.vue\"\r\nexport default {\r\n  components: {detail},\r\n  inject: [\"reload\"],\r\n  data() {\r\n    return {\r\n        calendarModel:false,\r\n        minDate: new Date(2020, 1, 1),\r\n        maxDate: new Date(2024, 1, 1),\r\n      // 搜索字段\r\n      query: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        totalCount: 0,\r\n        keyword:'',\r\n        startDate:sessionStorage.getItem('orderList_startDate') ? sessionStorage.getItem('orderList_startDate') :  this.$moment()\r\n          .startOf(\"month\")\r\n          .format(\"YYYY-MM-DD\"),\r\n        endDate: sessionStorage.getItem('orderList_endDate') ? sessionStorage.getItem('orderList_endDate') : this.$moment(new Date()).format(\"YYYY-MM-DD\"),\r\n      },\r\n      list: [],\r\n      loading: false,\r\n      finished: false,\r\n      error: false,\r\n      startDate:'',\r\n      endDate:'',\r\n\r\n      // 滚动位置\r\n      scrollTop:0\r\n    };\r\n  },\r\n  \r\n  methods: {\r\n    // 编辑\r\n    editClick(id){\r\n      api.byIdContentPlateFormOrder(id).then(res=>{\r\n          if(res.code === 0){\r\n              this.$router.push({path:'/editRecording',query:{orderInfo:res.data.orderInfo}})\r\n          }else{\r\n            this.$toast(res.msg);\r\n          }\r\n      })\r\n    },\r\n    // 订单详情\r\n    detailClick(value){\r\n      api.getByidContentPlateFormOrder(value).then((res) => {\r\n        if(res.code === 0){\r\n          this.$router.push({\r\n            path:'/detail',\r\n            query:{\r\n              orderInfo:res.data.orderInfo\r\n            }\r\n          })\r\n        }else{\r\n          this.$toast(res.msg);\r\n        }\r\n      })\r\n    },\r\n\r\n    // 复制\r\n    onCopySuccess(){\r\n      this.$toast(\"复制成功\");\r\n    },\r\n\r\n    // 日期搜索\r\n    onConfirm(value) {\r\n      this.query.startDate = this.$moment(value[0]).format(\"YYYY-MM-DD\")\r\n      this.query.endDate = this.$moment(value[1]).format(\"YYYY-MM-DD\")\r\n      sessionStorage.setItem('orderList_startDate',this.query.startDate)\r\n      sessionStorage.setItem('orderList_endDate',this.query.endDate)\r\n      this.calendarModel = false\r\n      this.query.pageNum = 1 \r\n    },\r\n\r\n    // 关键字搜索\r\n    blurInput(value){\r\n        this.query.keyword = value\r\n        \r\n    },\r\n    // 搜索\r\n    handleSearch() {\r\n      this.list=[]\r\n      this.query.pageNum = 1 \r\n      this.finished = false;\r\n      this.loading = true;\r\n      // this.getcontentPlateFormOrderLlistWithPage();\r\n      this.onLoad()\r\n    },\r\n\r\n    // 获取今日到院订单\r\n    getcontentPlateFormOrderLlistWithPage() {\r\n      // console.log(this.query.pageNum)\r\n      return new Promise(resolve=> {\r\n        const { pageNum, pageSize ,keyword,startDate,endDate} = this.query;\r\n        const data = {\r\n          startDate: startDate ? startDate : null,\r\n          endDate: endDate ? endDate : null,\r\n          keyword: keyword,\r\n          pageNum,\r\n          pageSize,\r\n          liveAnchorId:null,\r\n          belongMonth:null,\r\n          minAddOrderPrice:null,\r\n          maxAddOrderPrice:null,\r\n          appointmentHospital:null,\r\n          consultationType:null,\r\n          hospitalDepartmentId:null,\r\n          orderStatus:null,\r\n          contentPlateFormId:'',\r\n          belongEmpId:null,\r\n          orderSource:-1\r\n        };\r\n        api.contentPlateFormOrderLlistWithPage(data).then((res) => {\r\n          if (res.code === 0) {\r\n            const { list, totalCount } = res.data.contentPlatFormOrder;\r\n            this.list = [...this.list, ...list];\r\n            this.query.pageNum++;\r\n            this.loading = list.length == 0 || list ==[] ? null : false;\r\n            if (this.list.length === totalCount) {\r\n              this.finished = true;\r\n            }\r\n            resolve()\r\n          }\r\n        }).catch(() => {\r\n            this.error = true;\r\n          });;\r\n        })\r\n    },\r\n\r\n    onLoad() {\r\n      if(sessionStorage.getItem(\"orderListPageNum\") && sessionStorage.getItem(\"orderListScrollTop\")) return;\r\n      this.getcontentPlateFormOrderLlistWithPage();\r\n    },\r\n    \r\n\r\n     handleScroll () {\r\n        this.scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop\r\n    },\r\n\r\n    // 滚动到之前位置\r\n    async handleReturnScroll() {\r\n      let scrollTop = sessionStorage.getItem(\"orderListScrollTop\")\r\n      let pageNum = sessionStorage.getItem(\"orderListPageNum\")\r\n      \r\n      // 请求完毕之后会累加+ 不需要<= \r\n      for(let i = 1; i < pageNum; i++) {\r\n        await this.getcontentPlateFormOrderLlistWithPage()\r\n      }\r\n\r\n      // 滚动到之前的位置\r\n      this.$nextTick(()=> {\r\n        // console.log(scrollTop,\"scrollTop\")\r\n        document.documentElement.scrollTop = Number(scrollTop);\r\n        // console.log(document.documentElement.scrollTop,\"document.body.scrollTop\")\r\n              // 设置完毕删除session onLoad 哪里判断了 需要删除掉 下次滚动 onload才会滚动\r\n      sessionStorage.removeItem(\"orderListScrollTop\")\r\n      sessionStorage.removeItem(\"orderListPageNum\")\r\n      })\r\n    }\r\n  },\r\n  beforeRouteEnter (to, from, next) {\r\n    // console.log(\"beforeRouteEnter\")\r\n    if(from.path === '/workbench') {\r\n      sessionStorage.removeItem(\"orderListScrollTop\")\r\n      sessionStorage.removeItem(\"orderListPageNum\")\r\n      sessionStorage.removeItem(\"orderList_startDate\")\r\n      sessionStorage.removeItem(\"orderList_endDate\")\r\n    }\r\n    next(); \r\n  },\r\n  async mounted() {\r\n    // console.log(\"mounted\")\r\n    this.handleReturnScroll();\r\n    window.addEventListener('scroll', this.handleScroll)\r\n  },\r\n  beforeDestroy () {\r\n      window.removeEventListener('scroll', this.handleScroll)\r\n  },\r\n  destroyed() {\r\n    sessionStorage.setItem(\"orderListScrollTop\", this.scrollTop)\r\n    sessionStorage.setItem(\"orderListPageNum\",this.query.pageNum)\r\n    \r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n// /deep/.van-list{\r\n//   min-height: calc(100vh - 100px); overflow: hidden;\r\n// }\r\n.content{\r\n  background: #C7DBFF;\r\n  width: 100%;\r\n  // height: 100vh;\r\n}\r\n/deep/.van-swipe-cell__right{\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n/deep/ .van-button,.van-button--info ,.van-button--normal ,.van-button--square{\r\n  margin: 5px 0;\r\n}\r\n.search_content{\r\n    width: 100%;\r\n    height: 55px;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 99;\r\n    background: #8ab4fe;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 0 15px;\r\n    align-items: center;\r\n    .search_icon{\r\n        font-size: 28px;\r\n        color: #fff;\r\n    }\r\n    .calendar_name{\r\n        font-size: 12px;\r\n        color: #fff;\r\n        margin-left: 5px;\r\n    }\r\n    .calendar_con{\r\n        width: 120px;\r\n        display: flex;\r\n        align-items: center;\r\n        margin-left: 5px;\r\n    }\r\n}\r\n.search{\r\n    width: 60%;\r\n    height: 35px;\r\n    line-height: 35px;\r\n    background: #f5f5f5;\r\n    border-radius: 10px;\r\n    border: none;\r\n    padding: 0 10px;\r\n}\r\n.search_icon{\r\n  font-size: 25px;\r\n  color: #fff;\r\n}\r\n\r\n.list_wrap {\r\n    margin-top: 55px;\r\n    .item_con{\r\n      background-image: url('../../assets/right.png');\r\n      background-size: 100% 100%;\r\n      background-repeat: no-repeat no-repeat ;\r\n      position: fixed;\r\n      right: 20px;\r\n      top: 30px;\r\n      width: 90px;\r\n      height: 70px;\r\n    }\r\n  .item {\r\n    width: 96%;\r\n    background: #E9F3FF;\r\n    border-radius: 10px;\r\n    margin: 15px auto 0;\r\n    color: #565151;\r\n    font-size: 13px;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n    \r\n    .item_top{\r\n      display: flex;\r\n      justify-content: space-between;\r\n      .copy{\r\n        background: #f5f5f5;\r\n        border-radius: 10px;\r\n        padding: 0 6px;\r\n        box-sizing: border-box;\r\n        color: #5492FE;\r\n      }\r\n      .item_type{\r\n        width: 100px ;\r\n        color: #5492FE;\r\n        overflow: hidden; /*超出隐藏*/\r\n        text-overflow: ellipsis;/*隐藏后添加省略号*/\r\n        white-space: nowrap;/*强制不换行*/\r\n      }\r\n    }\r\n    .item_center{\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin: 7px 0;\r\n      .item_right{\r\n        width: 100%;\r\n        flex:1;\r\n        .right_content{\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          .nickname_con{\r\n            display: flex;\r\n            .nickname{\r\n                width: 100px ;\r\n                overflow: hidden; /*超出隐藏*/\r\n                text-overflow: ellipsis;/*隐藏后添加省略号*/\r\n                white-space: nowrap;/*强制不换行*/\r\n              }\r\n          }\r\n        }\r\n        \r\n      }\r\n      \r\n      \r\n    }\r\n    .item_bottom{\r\n      display: flex;\r\n      justify-content: space-between;\r\n      // .nickname_con{\r\n      //   display: flex;\r\n      //   .nickname{\r\n      //       width: 130px ;\r\n      //       overflow: hidden; /*超出隐藏*/\r\n      //       text-overflow: ellipsis;/*隐藏后添加省略号*/\r\n      //       white-space: nowrap;/*强制不换行*/\r\n\r\n      //     }\r\n      // }\r\n      .nickname_con{\r\n        display: flex;\r\n        width: 48%;\r\n        .nickname{\r\n          width: 100px;\r\n          overflow: hidden; /*超出隐藏*/\r\n          text-overflow: ellipsis;/*隐藏后添加省略号*/\r\n          white-space: nowrap;/*强制不换行*/\r\n        }\r\n        .nick_title2{\r\n          width: 120px;\r\n          overflow: hidden; /*超出隐藏*/\r\n          text-overflow: ellipsis;/*隐藏后添加省略号*/\r\n          white-space: nowrap;/*强制不换行*/\r\n        }\r\n        \r\n      }\r\n    }\r\n    // .item_bottom{\r\n    //   display: flex;\r\n    //   justify-content: space-between;\r\n    //   .nickname_con{\r\n    //     display: flex;\r\n    //     .nickname{\r\n    //         width: 130px ;\r\n    //         overflow: hidden; /*超出隐藏*/\r\n    //         text-overflow: ellipsis;/*隐藏后添加省略号*/\r\n    //         white-space: nowrap;/*强制不换行*/\r\n\r\n    //       }\r\n    //   }\r\n    // }\r\n    // .item_type{\r\n    //   text-align: right;\r\n    //   margin-bottom: 10px;\r\n    //   font-size: 14px;\r\n    //   padding-top: 10px;\r\n    // }\r\n    // .item_order{\r\n    //   display: flex;\r\n    //   font-size: 13px;\r\n    //   align-items: center;\r\n    //   .copy{\r\n    //     background: #f5f5f5;\r\n    //     border-radius: 10px;\r\n    //     padding: 0 6px;\r\n    //     box-sizing: border-box;\r\n    //     color: #5492FE;\r\n    //   }\r\n    // }\r\n   \r\n  }\r\n  .nodata{\r\n    display: flex;\r\n    text-align: center;\r\n}\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./orderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./orderList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderList.vue?vue&type=template&id=660b842d&scoped=true&\"\nimport script from \"./orderList.vue?vue&type=script&lang=js&\"\nexport * from \"./orderList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderList.vue?vue&type=style&index=0&id=660b842d&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"660b842d\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../../assets/right.png\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content[data-v-660b842d]{background:#c7dbff;width:100%}[data-v-660b842d] .van-swipe-cell__right{display:flex;flex-direction:column;align-items:center;justify-content:center}.van-button--info[data-v-660b842d],.van-button--normal[data-v-660b842d],.van-button--square[data-v-660b842d],[data-v-660b842d] .van-button{margin:5px 0}.search_content[data-v-660b842d]{width:100%;height:55px;position:fixed;top:0;left:0;z-index:99;background:#8ab4fe;display:flex;justify-content:space-between;padding:0 15px;align-items:center}.search_content .search_icon[data-v-660b842d]{font-size:28px;color:#fff}.search_content .calendar_name[data-v-660b842d]{font-size:12px;color:#fff;margin-left:5px}.search_content .calendar_con[data-v-660b842d]{width:120px;display:flex;align-items:center;margin-left:5px}.search[data-v-660b842d]{width:60%;height:35px;line-height:35px;background:#f5f5f5;border-radius:10px;border:none;padding:0 10px}.search_icon[data-v-660b842d]{font-size:25px;color:#fff}.list_wrap[data-v-660b842d]{margin-top:55px}.list_wrap .item_con[data-v-660b842d]{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");background-size:100% 100%;background-repeat:no-repeat;position:fixed;right:20px;top:30px;width:90px;height:70px}.list_wrap .item[data-v-660b842d]{width:96%;background:#e9f3ff;border-radius:10px;margin:15px auto 0;color:#565151;font-size:13px;padding:10px;box-sizing:border-box}.list_wrap .item .item_top[data-v-660b842d]{display:flex;justify-content:space-between}.list_wrap .item .item_top .copy[data-v-660b842d]{background:#f5f5f5;border-radius:10px;padding:0 6px;box-sizing:border-box;color:#5492fe}.list_wrap .item .item_top .item_type[data-v-660b842d]{width:100px;color:#5492fe;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list_wrap .item .item_center[data-v-660b842d]{width:100%;display:flex;justify-content:space-between;align-items:center;margin:7px 0}.list_wrap .item .item_center .item_right[data-v-660b842d]{width:100%;flex:1}.list_wrap .item .item_center .item_right .right_content[data-v-660b842d]{display:flex;justify-content:space-between;align-items:center}.list_wrap .item .item_center .item_right .right_content .nickname_con[data-v-660b842d]{display:flex}.list_wrap .item .item_center .item_right .right_content .nickname_con .nickname[data-v-660b842d]{width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list_wrap .item .item_bottom[data-v-660b842d]{display:flex;justify-content:space-between}.list_wrap .item .item_bottom .nickname_con[data-v-660b842d]{display:flex;width:48%}.list_wrap .item .item_bottom .nickname_con .nickname[data-v-660b842d]{width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list_wrap .item .item_bottom .nickname_con .nick_title2[data-v-660b842d]{width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list_wrap .nodata[data-v-660b842d]{display:flex;text-align:center}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-32.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-32.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-32.use[3]!../../../node_modules/less-loader/dist/cjs.js??clonedRuleSet-32.use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./orderList.vue?vue&type=style&index=0&id=660b842d&prod&lang=less&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1d2d5df2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","staticClass","style","height","list","length","attrs","on","blurInput","model","value","query","keyword","callback","$$v","$set","expression","$event","calendarModel","_v","_s","startDate","endDate","handleSearch","minDate","maxDate","onConfirm","finished","error","onLoad","loading","_l","item","index","key","scopedSlots","_u","fn","detailClick","id","editClick","proxy","staticStyle","directives","name","rawName","arg","onCopySuccess","orderStatusText","thumbPictureUrl","belongEmpName","contentPlatformName","customerName","city","phone","liveAnchorName","liveAnchorWeChatNo","staticRenderFns","components","detail","inject","data","pageNum","pageSize","totalCount","startOf","format","scrollTop","methods","api","path","orderInfo","sessionStorage","getcontentPlateFormOrderLlistWithPage","liveAnchorId","belongMonth","minAddOrderPrice","maxAddOrderPrice","appointmentHospital","consultationType","hospitalDepartmentId","orderStatus","contentPlateFormId","belongEmpId","orderSource","resolve","handleScroll","document","beforeRouteEnter","next","window","beforeDestroy","destroyed","component","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","push","module","content","__esModule","default","locals","exports","add"],"sourceRoot":""}
(self["webpackChunkh5_amiya"]=self["webpackChunkh5_amiya"]||[]).push([[336],{3336:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return x}});var r=function(){var e=this,t=e._self._c;return t("div",[0==e.isLoading?t("div",{staticClass:"contents",style:{height:e.performance.length<6?"100vh":"auto"}},[t("div",{staticClass:"time",on:{click:e.timeClick}},[t("span",[e._v(e._s(e.time))]),t("i",{staticClass:"iconfont icon-xiangxia time_icon"})]),e.performance.length>1?t("div",{staticClass:"chart_content"},[t("hospitalChart",{attrs:{performance:e.performance}})],1):e._e(),e.performance.length>1?t("div",{staticClass:"list"},e._l(e.performance,(function(o,r){return t("div",{key:r},[t("div",{staticClass:"item"},[o.hospitalLogo?t("img",{staticClass:"img",attrs:{src:o.hospitalLogo,alt:""}}):e._e(),t("div",{staticClass:"item_right"},[t("div",{staticClass:"right_top"},[t("span",{staticClass:"hospital"},[e._v(e._s(o.hospitalName))]),t("div",{staticClass:"achi_l"},[e._v("新老客占比 "+e._s(o.newOrOldCustomerRate))])])]),t("div",{staticClass:"achievement"},[t("div",{staticClass:"achievement_r"},[t("div",[e._v("贡献 "+e._s(o.totalAchievementRatio)+"%")])])])])])})),0):e._e(),e.performance.length>1?t("div",{staticClass:"no_data"},[e._v("没有更多了")]):e._e(),t("van-popup",{staticStyle:{height:"50%"},attrs:{position:"bottom",round:""},model:{value:e.timeModel,callback:function(t){e.timeModel=t},expression:"timeModel"}},[t("van-datetime-picker",{attrs:{type:"year-month",title:"选择年月","min-date":e.minDate,"max-date":e.maxDate},on:{cancel:function(t){e.timeModel=!1},confirm:e.timeConfirm},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1)],1):t("van-loading",{staticStyle:{height:"100vh",padding:"140px 0 0 0px",background:"linear-gradient(#8ab4fe,#f5f5f5)"},attrs:{size:"24px",vertical:"","text-color":"#fff",color:"#fff"}},[e._v("加载中...")])],1)},i=[],a=o(7535),l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("div",{ref:"dom",style:{width:"100%",height:"150px"}})])},s=[],n=o(4722),c=JSON.parse('{"color":["#FF0000","#FF6600","#FFC760","#EE2C68","#26DCF9","#3CA0FE","#9598FF","#BAE6FF","#EDE4AC","#C586FF","#BFF3B3"],"backgroundColor":"rgba(0,0,0,0)","textStyle":{},"title":{"textStyle":{"color":"#516b91"},"subtextStyle":{"color":"#93b7e3"}},"line":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"radar":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"bar":{"itemStyle":{"normal":{"barBorderWidth":0,"barBorderColor":"#ccc"},"emphasis":{"barBorderWidth":0,"barBorderColor":"#ccc"}}},"pie":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"scatter":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"boxplot":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"parallel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"sankey":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"funnel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"gauge":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"candlestick":{"itemStyle":{"normal":{"color":"#edafda","color0":"transparent","borderColor":"#d680bc","borderColor0":"#8fd3e8","borderWidth":"2"}}},"graph":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"}},"lineStyle":{"normal":{"width":1,"color":"#aaa"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true,"color":["#FF0000","#FF6600","#FFC760","#EE2C68","#26DCF9","#3CA0FE","#9598FF","#BAE6FF","#EDE4AC","#C586FF","#BFF3B3"],"label":{"normal":{"textStyle":{"color":"#eee"}}}},"map":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"geo":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"categoryAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"textStyle":{"color":"#999999"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"valueAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"textStyle":{"color":"#999999"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"logAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"textStyle":{"color":"#999999"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"timeAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"textStyle":{"color":"#999999"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"toolbox":{"iconStyle":{"normal":{"borderColor":"#999"},"emphasis":{"borderColor":"#666"}}},"legend":{"textStyle":{"color":"#999999"}},"tooltip":{"axisPointer":{"lineStyle":{"color":"#ccc","width":1},"crossStyle":{"color":"#ccc","width":1}}},"timeline":{"lineStyle":{"color":"#8fd3e8","width":1},"itemStyle":{"normal":{"color":"#8fd3e8","borderWidth":1},"emphasis":{"color":"#8fd3e8"}},"controlStyle":{"normal":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5},"emphasis":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5}},"checkpointStyle":{"color":"#8fd3e8","borderColor":"rgba(138,124,168,0.37)"},"label":{"normal":{"textStyle":{"color":"#8fd3e8"}},"emphasis":{"textStyle":{"color":"#8fd3e8"}}}},"visualMap":{"color":["#516b91","#59c4e6","#a5e7f0"]},"dataZoom":{"backgroundColor":"rgba(0,0,0,0)","dataBackgroundColor":"rgba(255,255,255,0.3)","fillerColor":"rgba(167,183,204,0.4)","handleColor":"#a7b7cc","handleSize":"100%","textStyle":{"color":"#333"}},"markPoint":{"label":{"normal":{"textStyle":{"color":"#eee"}},"emphasis":{"textStyle":{"color":"#eee"}}}}}'),d=o(8902);d.aW("tdTheme",c);var h={props:{performance:Array},data(){return{myChart:"",order:[],legendList:[]}},computed:{isCollapsed(){return this.$store.state.home.isCollapsed}},watch:{isCollapsed(e){setTimeout((()=>{this.myChart&&this.myChart.resize()}),400)}},methods:{myEcharts(){let e=this.legendList.map((e=>e.name)),t={tooltip:{trigger:"item",formatter:"{b} : {d}%"},legend:[{data:[e[0]],y:"30",x:"140",formatter:function(e){return e.length>9?e.substr(0,9)+"...":e}},{data:[e[1]],y:"60",x:"140",formatter:function(e){return e.length>9?e.substr(0,9)+"...":e}},{data:[e[2]],y:"90",x:"140",formatter:function(e){return e.length>9?e.substr(0,9)+"...":e}}],grid:{containLabel:!0},series:[{type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,data:this.order,center:["20%","50%"],label:{show:!1,fontSize:12},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.myChart=d.S1(this.$refs.dom,"tdTheme"),this.myChart.setOption(t),(0,n.on)(window,"resize",this.myChart.resize)}},beforeDestroy(){(0,n.S1)(window,"resize",this.myChart.resize)},watch:{performance:{handler(e){this.order=e?e.map((e=>({name:e.hospitalName,value:e.totalAchievementRatio}))):[],this.legendList=this.order.length>3?[this.order[0],this.order[1],this.order[2]]:[this.order[0]],this.$nextTick((()=>{this.myEcharts()}))},immediate:!0}}},m=h,p=(o(5147),o(1001)),b=(0,p.Z)(m,l,s,!1,null,"20aa1257",null),f=b.exports,g={components:{hospitalChart:f},data(){return{performance:[],time:this.$moment().format("YYYY-MM"),minDate:new Date(2020,0,1),maxDate:new Date(2025,10,1),currentDate:this.$moment().format("YYYY-MM"),timeModel:!1,isLoading:!1}},methods:{timeClick(){this.currentDate=new Date(this.$moment(this.time).format("YYYY-MM-DD")),this.timeModel=!0},timeConfirm(e){this.time=this.$moment(e).format("YYYY-MM"),this.timeModel=!1,this.gethospitalPerformance()},gethospitalPerformance(){const e={year:this.$moment(this.time).format("YYYY"),month:this.$moment(this.time).format("MM")};this.isLoading=!0,a.JP(e).then((e=>{0===e.code&&(this.isLoading=!1,this.performance=e.data.performance)}))}},created(){this.gethospitalPerformance()}},y=g,u=(o(8854),(0,p.Z)(y,r,i,!1,null,"53052d18",null)),x=u.exports},8813:function(e,t,o){"use strict";o.r(t);var r=o(8081),i=o.n(r),a=o(3645),l=o.n(a),s=l()(i());s.push([e.id,".wrapper[data-v-20aa1257]{width:100%;padding-top:20px;box-sizing:border-box}",""]),t["default"]=s},5797:function(e,t,o){"use strict";o.r(t);var r=o(8081),i=o.n(r),a=o(3645),l=o.n(a),s=o(1667),n=o.n(s),c=new URL(o(8100),o.b),d=l()(i()),h=n()(c);d.push([e.id,".contents[data-v-53052d18]{width:100%;background:linear-gradient(#8ab4fe,#f5f5f5)}.contents .time[data-v-53052d18]{text-align:right;font-size:14px;color:#fff;padding:10px;box-sizing:border-box}.contents .chart_content[data-v-53052d18]{width:94%;height:180px;background-image:url("+h+");background-size:100% 100%;display:flex;margin:0 auto}.contents .list[data-v-53052d18]{width:100%;padding:0 10px;box-sizing:border-box;margin-top:10px}.contents .list .item[data-v-53052d18]{width:100%;display:flex;background:#e9f3ff;border-radius:10px;padding:10px;box-sizing:border-box;align-items:center;margin-bottom:10px;justify-content:space-between}.contents .list .item .img[data-v-53052d18]{width:40px;height:40px;border-radius:50%}.contents .list .item .item_right[data-v-53052d18]{width:80%;flex:1;margin-left:10px}.contents .list .item .item_right .right_top[data-v-53052d18]{width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.contents .list .item .item_right .right_top .achi_l[data-v-53052d18]{font-size:12px;color:#767474;margin-top:5px}.contents .list .item .item_right .right_top .hospital[data-v-53052d18]{width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;color:#000}.contents .list .item .item_right .right_top .num[data-v-53052d18]{color:#5492fe;font-size:14px}.contents .list .item .achievement[data-v-53052d18]{color:#767474;font-size:12px}.contents .list .item .achievement .achi_l[data-v-53052d18]{margin-bottom:5px}.contents .no_data[data-v-53052d18]{text-align:center;color:#ccc;font-size:14px;padding-bottom:10px;box-sizing:border-box}",""]),t["default"]=d},5147:function(e,t,o){var r=o(8813);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=o(4402).Z;i("c0ab8384",r,!0,{sourceMap:!1,shadowMode:!1})},8854:function(e,t,o){var r=o(5797);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=o(4402).Z;i("0f9d3fea",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=336.f47df184.js.map
(self["webpackChunkh5_amiya"]=self["webpackChunkh5_amiya"]||[]).push([[423],{423:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content",style:{height:t.list.length<4?"100vh":"auto"}},[e("div",{staticClass:"search_content"},[e("van-field",{staticClass:"search",attrs:{placeholder:"请输入关键字"},on:{input:t.blurInput},model:{value:t.query.keyword,callback:function(e){t.$set(t.query,"keyword",e)},expression:"query.keyword"}}),e("div",{staticClass:"calendar_con",on:{click:t.calendarClick}},[e("i",{staticClass:"iconfont icon-rili search_icon"}),e("div",[e("div",{staticClass:"calendar_name"},[t._v(t._s(t.query.startDate))]),e("div",{staticClass:"calendar_name"},[t._v(t._s(t.query.endDate))])])]),e("i",{staticClass:"iconfont icon-icon-sousu search_icon",on:{click:t.handleSearch}})],1),e("van-calendar",{attrs:{color:"#1989fa","min-date":t.minDate,"max-date":t.maxDate,type:"range"},on:{confirm:t.onConfirm},model:{value:t.calendarModel,callback:function(e){t.calendarModel=e},expression:"calendarModel"}}),e("div",{staticClass:"list_wrap"},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","error-text":"请求失败，点击重新加载",error:t.error},on:{load:t.onLoad,"update:error":function(e){t.error=e}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[e("div",[t._l(t.list,(function(a,i){return e("van-swipe-cell",{key:i,scopedSlots:t._u([{key:"right",fn:function(){return[e("van-button",{attrs:{square:"",color:"linear-gradient(to bottom, #8ab4fe,#5492FE)",text:"派单"},on:{click:function(e){return t.dispatchClick(a.orderId)}}}),e("van-button",{attrs:{square:"",color:"linear-gradient(to bottom, #8ab4fe,#5492FE)",text:"详情"},on:{click:function(e){return t.detailClick(a.orderId)}}})]},proxy:!0}],null,!0)},[e("div",{staticClass:"item"},[e("div",{staticClass:"item_con"}),e("div",{staticClass:"item_top"},[e("div",{staticStyle:{color:"#000"}},[t._v("订单："),e("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.orderId,expression:"item.orderId",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}]},[t._v(t._s(a.orderId))])])]),e("div",{staticClass:"item_center"},[e("van-image",{staticStyle:{margin:"0 8px 0 0"},attrs:{width:"50",height:"50",src:a.thumbPictureUrl}}),e("div",{staticClass:"item_right"},[e("div",{staticClass:"hospital_con"},[t._v("客户："),e("div",{staticClass:"hospital"},[t._v(t._s(a.customerName))])]),e("div",{staticClass:"right_content"},[e("div",[t._v("手机："+t._s(a.phone))])]),e("div",{staticClass:"hospital_con"},[t._v("预约门店："),e("div",{staticClass:"hospital"},[t._v(t._s(a.appointmentHospital))])]),e("div",{staticClass:"right_content"},[e("div",[t._v("面诊："+t._s(a.consultationTypeText))]),e("div",{staticClass:"ip_con"},[t._v("主播IP："),e("span",{staticClass:"ip"},[t._v(t._s(a.liveAnchorName))])])])])],1)])])})),e("van-popup",{staticClass:"dispatch_content",attrs:{position:"bottom",round:"","close-on-click-overlay":!1},model:{value:t.dispatchModel,callback:function(e){t.dispatchModel=e},expression:"dispatchModel"}},[e("van-field",{staticClass:"customer_content",attrs:{label:"派单医院",disabled:"",placeholder:"请选择派单医院"},on:{click:function(e){t.hospitalIdModel=!0}},model:{value:t.form.hospitalName,callback:function(e){t.$set(t.form,"hospitalName",e)},expression:"form.hospitalName"}}),e("van-field",{staticClass:"customer_content",attrs:{label:"派单人员",disabled:"",placeholder:"请选择派单人员"},on:{click:function(e){t.sendByModel=!0}},model:{value:t.form.sendByName,callback:function(e){t.$set(t.form,"sendByName",e)},expression:"form.sendByName"}}),e("van-field",{staticClass:"customer_content",attrs:{label:"派单留言",placeholder:"请输入派单留言",type:"textarea",rows:4},on:{input:t.remarkInput},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}}),e("div",{staticClass:"bottom"},[e("van-button",{staticClass:"button",attrs:{round:"",block:"",type:"default"},on:{click:t.cancel}},[t._v("取消")]),e("van-button",{staticClass:"button",attrs:{round:"",block:"",type:"info"},on:{click:t.submite}},[t._v("确认")])],1)],1),e("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.hospitalIdModel,callback:function(e){t.hospitalIdModel=e},expression:"hospitalIdModel"}},[e("van-picker",{attrs:{"show-toolbar":"",columns:t.hospitalName},on:{cancel:function(e){t.hospitalIdModel=!1},confirm:t.hospitalIdConfirm}})],1),e("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.sendByModel,callback:function(e){t.sendByModel=e},expression:"sendByModel"}},[e("van-picker",{attrs:{"show-toolbar":"",columns:t.sendByName},on:{cancel:function(e){t.sendByModel=!1},confirm:t.sendByConfirm}})],1)],2)])],1),e("detail")],1)},o=[],n=(a(7658),a(7535)),s=a(5750),r={components:{detail:s["default"]},data(){return{calendarModel:!1,minDate:new Date(2020,1,1),maxDate:new Date(2024,1,1),query:{pageNum:1,pageSize:10,totalCount:0,keyword:"",startDate:this.$moment().startOf("month").format("YYYY-MM-DD"),endDate:this.$moment(new Date).format("YYYY-MM-DD")},list:[],loading:!1,finished:!1,error:!1,startDate:"",endDate:"",dispatchModel:!1,form:{hospitalId:null,hospitalName:null,orderId:"",isUncertainDate:!1,appointmentDate:"",remark:"",sendBy:null,sendByName:""},hospitalIdModel:!1,hospitalName:[],sendByModel:!1,sendByName:[]}},methods:{calendarClick(){this.calendarModel=!0},dispatchClick(t){this.dispatchModel=!0,this.form.orderId=t},cancel(){this.form={},this.dispatchModel=!1},submite(){const{hospitalId:t,sendBy:e,orderId:a,remark:i}=this.form;if(!t)return void this.$toast("请选择派单医院");if(!e)return void this.$toast("请选择派单人员");const o={orderId:a,hospitalId:Number(t),sendBy:Number(e),remark:i,isUncertainDate:!1,appointmentDate:null};n.a9(o).then((t=>{0===t.code?(this.$toast("派单成功"),this.form={},this.dispatchModel=!1,this.getunContentPlatFormSendOrderList()):this.$toast(t.msg)}))},detailClick(t){n.ju(t).then((t=>{0===t.code?this.$router.push({path:"/detail",query:{orderInfo:t.data.orderInfo}}):this.$toast(t.msg)}))},getHospitalInfo(){n.a3().then((t=>{this.hospitalInfo=t.data.hospitalInfo;let e=[];this.hospitalInfo.map((t=>{e.push(t.name)})),this.hospitalName=e}))},getCustomerServiceNameList(){n.nj().then((t=>{this.employee=t.data.employee;let e=[];this.employee.map((t=>{e.push(t.name)})),this.sendByName=e}))},hospitalIdConfirm(t){this.form.hospitalName=t,this.hospitalIdModel=!1,this.hospitalInfo.map((e=>{e.name==t&&(this.form.hospitalId=e.id)}))},sendByConfirm(t){this.form.sendByName=t,this.sendByModel=!1,this.employee.map((e=>{e.name==t&&(this.form.sendBy=e.id)}))},remarkInput(t){this.form.remark=t},onCopySuccess(){this.$toast("复制成功")},onConfirm(t){this.query.startDate=this.$moment(t[0]).format("YYYY-MM-DD"),this.query.endDate=this.$moment(t[1]).format("YYYY-MM-DD"),this.calendarModel=!1,this.query.pageNum=1},blurInput(t){this.query.keyword=t},handleSearch(){this.list=[],this.query.pageNum=1,this.finished=!1,this.loading=!0,this.onLoad()},getunContentPlatFormSendOrderList(){const{pageNum:t,pageSize:e,keyword:a,startDate:i,endDate:o}=this.query,s={startDate:i||null,endDate:o||null,keyword:a,pageNum:t,pageSize:e,liveAnchorId:null,consultationEmpId:null,contentPlateFormId:"",employeeId:-1,orderStatus:null,orderSource:-1};n.zo(s).then((t=>{if(0===t.code){const{list:e,totalCount:a}=t.data.unSendOrder;this.list=[...this.list,...e],this.query.pageNum++,this.loading=!1,this.list.length===a&&(this.finished=!0)}})).catch((()=>{this.error=!0}))},onLoad(){this.getunContentPlatFormSendOrderList()}},created(){this.getHospitalInfo(),this.getCustomerServiceNameList()}},l=r,d=(a(2065),a(1001)),c=(0,d.Z)(l,i,o,!1,null,"7602f797",null),p=c.exports},8580:function(t,e,a){"use strict";a.r(e);var i=a(8081),o=a.n(i),n=a(3645),s=a.n(n),r=a(1667),l=a.n(r),d=new URL(a(1132),a.b),c=s()(o()),p=l()(d);c.push([t.id,".content[data-v-7602f797]{background:#c7dbff;width:100%}[data-v-7602f797] .van-swipe-cell__right{display:flex;flex-direction:column;align-items:center;justify-content:center}.van-button--info[data-v-7602f797],.van-button--normal[data-v-7602f797],.van-button--square[data-v-7602f797],[data-v-7602f797] .van-button{margin:5px 0}.dispatch_content[data-v-7602f797]{height:43%;color:#5492fe}.customer_content[data-v-7602f797]{width:90%;margin:0 auto;border-bottom:1px solid #bbd3ff;padding:10px 0;box-sizing:border-box}.customer_content .van-field__label[data-v-7602f797],.customer_content[data-v-7602f797] .van-cell__title{width:70px;color:#5492fe}.search_content[data-v-7602f797]{width:100%;height:55px;position:fixed;top:0;left:0;z-index:99;background:#8ab4fe;display:flex;justify-content:space-between;padding:0 15px;align-items:center}.search_content .search_icon[data-v-7602f797]{font-size:28px;color:#fff}.search_content .calendar_name[data-v-7602f797]{font-size:12px;color:#fff;margin-left:5px}.search_content .calendar_con[data-v-7602f797]{width:120px;display:flex;align-items:center;margin-left:5px}.search[data-v-7602f797]{width:60%;height:35px;line-height:35px;background:#f5f5f5;border-radius:10px;border:none;padding:0 10px}.search_icon[data-v-7602f797]{font-size:25px;color:#fff}.list_wrap[data-v-7602f797]{margin-top:55px}.list_wrap .item_con[data-v-7602f797]{background-image:url("+p+");background-size:100% 100%;background-repeat:no-repeat;position:fixed;right:20px;top:25px;width:90px;height:70px}.list_wrap .item[data-v-7602f797]{width:96%;background:#e9f3ff;border-radius:10px;margin:15px auto 0;color:#565151;font-size:13px;padding:10px;box-sizing:border-box}.list_wrap .item .item_top[data-v-7602f797]{display:flex;justify-content:space-between}.list_wrap .item .item_top .copy[data-v-7602f797]{background:#f5f5f5;border-radius:10px;padding:0 6px;box-sizing:border-box;color:#5492fe}.list_wrap .item .item_top .item_type[data-v-7602f797]{color:#5492fe}.list_wrap .item .item_center[data-v-7602f797]{width:100%;display:flex;justify-content:space-between;align-items:center;margin:7px 0}.list_wrap .item .item_center .item_right[data-v-7602f797]{width:100%;flex:1}.list_wrap .item .item_center .item_right .right_content[data-v-7602f797]{display:flex;justify-content:space-between;align-items:center}.list_wrap .item .item_center .item_right .right_content .nickname_con[data-v-7602f797]{display:flex}.list_wrap .item .item_center .item_right .right_content .nickname_con .nickname[data-v-7602f797]{width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list_wrap .item .item_center .item_right .right_content .ip_con[data-v-7602f797]{margin-left:10px;display:flex}.list_wrap .item .item_center .item_right .right_content .ip_con .ip[data-v-7602f797]{width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list_wrap .item .item_center .hospital_con[data-v-7602f797]{display:flex}.list_wrap .item .item_center .hospital_con .hospital[data-v-7602f797]{width:70%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list_wrap .item .item_bottom[data-v-7602f797]{display:flex;justify-content:space-between}.list_wrap .item .item_bottom .nickname_con[data-v-7602f797]{display:flex}.list_wrap .item .item_bottom .nickname_con .nickname[data-v-7602f797]{width:130px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list_wrap .nodata[data-v-7602f797]{display:flex;text-align:center}.bottom[data-v-7602f797]{display:flex;margin-top:20px}.bottom .button[data-v-7602f797]{width:40%;height:42px;margin:0 auto}",""]),e["default"]=c},2065:function(t,e,a){var i=a(8580);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var o=a(4402).Z;o("1409d239",i,!0,{sourceMap:!1,shadowMode:!1})},1132:function(t){"use strict";t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=423.2313e396.js.map
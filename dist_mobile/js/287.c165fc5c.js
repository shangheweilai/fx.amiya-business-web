(self["webpackChunkh5_amiya"]=self["webpackChunkh5_amiya"]||[]).push([[287],{8287:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return p}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("img",{staticClass:"logo",attrs:{src:e.logo,alt:""}}),t("div",{staticClass:"login_content"},[t("van-cell-group",[t("van-field",{staticStyle:{"border-radius":"5px/5px",border:"none"},attrs:{label:"账号","left-icon":"manager",placeholder:"请输入账号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("van-cell-group",[t("van-field",{staticStyle:{"border-radius":"5px/5px",border:"none"},attrs:{clearable:"",label:"密码","left-icon":"lock",placeholder:"请输入密码",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),t("van-button",{staticClass:"button",attrs:{round:"",block:"",type:"info"},on:{click:e.onSubmit}},[e._v("登录")]),t("div",{staticClass:"title",on:{click:e.qwLogin}},[e._v("企业微信授权登录")])],1)])},a=[],s=(o(7658),o(795)),i=o(2900),r={components:{},data(){return{logo:s,username:"",password:"",userInfo:window.sessionStorage.getItem("userInfo")?JSON.parse(window.sessionStorage.getItem("userInfo")):{employeeName:"",userId:""}}},methods:{onSubmit(){if(!this.username)return void this.$toast("请输入账号");if(!this.password)return void this.$toast("请输入密码");const e={userName:this.username,password:this.password,userId:this.userInfo.userId,code:this.userInfo.code};i.JK(e).then((e=>{if(0==e.code){const{token:t,employeeName:o,employeeId:n,amiyaPositionId:a,departmentId:s,departmentName:i,employeeType:r,refreshToken:c,readDataCenter:l,readLiveAnchorData:d}=e.data.amiyaLogin;sessionStorage.setItem("userName",this.username),sessionStorage.setItem("password",this.password),sessionStorage.setItem("employeeId",n),sessionStorage.setItem("employeeName",o),sessionStorage.setItem("amiyaPositionId",a),sessionStorage.setItem("departmentId",s),sessionStorage.setItem("employeeType",r),sessionStorage.setItem("departmentName",i),sessionStorage.setItem("refreshToken",c),sessionStorage.setItem("token",t),sessionStorage.setItem("readDataCenter",l),sessionStorage.setItem("readLiveAnchorData",d),this.$toast.success("登录成功"),this.$router.push({path:"/workbench"})}else this.$toast(e.msg)}))},qwLogin(){this.$router.go(-1)}},created(){}},c=r,l=(o(758),o(1001)),d=(0,l.Z)(c,n,a,!1,null,"fecee46c",null),p=d.exports},5323:function(e,t,o){"use strict";o.r(t);var n=o(8081),a=o.n(n),s=o(3645),i=o.n(s),r=o(1667),c=o.n(r),l=new URL(o(9913),o.b),d=i()(a()),p=c()(l);d.push([e.id,".container[data-v-fecee46c]::-webkit-scrollbar{display:none}.container[data-v-fecee46c]{width:100%;height:100vh;position:relative;background-image:url("+p+");background-size:100% 100%;overflow-x:hidden;overflow-y:hidden}.container .logo[data-v-fecee46c]{width:120px;height:120px;position:absolute;left:50%;top:12%;margin-left:-60px}.container .login_content[data-v-fecee46c]{width:80%;height:100px;position:absolute;left:50%;top:37%;margin-left:-40%}.container .login_content .line[data-v-fecee46c]{margin-top:10px}.container .login_content .van-field__label[data-v-fecee46c],.container .login_content[data-v-fecee46c] .van-cell__title{width:15%}.container .login_content[data-v-fecee46c] .van-cell-group{margin:10px 0}.container .login_content .van-hairline--top-bottom[data-v-fecee46c],.container .login_content[data-v-fecee46c] .van-cell-group{border-radius:50px/50px;border:none}.container .login_content .button[data-v-fecee46c]{width:60%;height:35px;margin:0 auto}.container .login_content .title[data-v-fecee46c]{text-align:center;color:#2d8cf0;font-size:14px;margin-top:10px}",""]),t["default"]=d},758:function(e,t,o){var n=o(5323);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var a=o(4402).Z;a("179a1da4",n,!0,{sourceMap:!1,shadowMode:!1})},795:function(e,t,o){"use strict";e.exports=o.p+"img/amy.223f676e.png"},9913:function(e,t,o){"use strict";e.exports=o.p+"img/login.d03bbdf5.png"}}]);
//# sourceMappingURL=287.c165fc5c.js.map